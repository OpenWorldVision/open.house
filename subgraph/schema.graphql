
type Position @entity {
  id: ID!

  size: BigDecimal!
  collateral: BigDecimal!
  averagePrice: BigDecimal!
  entryFundingRate: BigDecimal!
  realisedPnl: BigDecimal!
  lastIncreasedTime: BigDecimal!
}

type DecreasePosition @entity {
  id: ID!

  key: String!
  account: String!
  collateralToken: String!
  indexToken: String!

  isLong: Boolean!

  collateralDelta: BigDecimal!
  sizeDelta: BigDecimal!
  price: BigDecimal!
  fee: BigDecimal!
}

type IncreasePosition @entity {
  id: ID!

  key: String!
  account: String!
  collateralToken: String!
  indexToken: String!

  isLong: Boolean!

  collateralDelta: BigDecimal!
  sizeDelta: BigDecimal!
  price: BigDecimal!
  fee: BigDecimal!
}

type LiquidatePosition @entity {
  id: ID!

  key: String!
  account: String!
  collateralToken: String!
  indexToken: String!

  isLong: Boolean!


  size: BigDecimal!
  collateral: BigDecimal!
  reserveAmount: BigDecimal!
  realisedPnl: BigDecimal!
  markPrice: BigDecimal!
}

type UpdatePosition @entity {
  id: ID!

  key: String!

  size: BigDecimal!
  collateral: BigDecimal!
  reserveAmount: BigDecimal!
  realisedPnl: BigDecimal!
  averagePrice: BigDecimal!
  entryFundingRate: BigDecimal!
}

type ClosePosition @entity {
  id: ID!

  key: String!

  size: BigDecimal!
  collateral: BigDecimal!
  reserveAmount: BigDecimal!
  realisedPnl: BigDecimal!
  averagePrice: BigDecimal!
  entryFundingRate: BigDecimal!
}